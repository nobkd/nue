
<!doctype dhtml>

<script>
  import { state } from 'state'
  state.setup({ route: '/:id', autolink: true })
</script>

<body>
  <main>
    <article/>
  </main>

  <script>
    state.on('id', ({ id }) => {
      const root = document.querySelector('article')
      this.mount(id ? 'user' : 'users', root)
    })

    mounted() {
      state.init()
    }
  </script>
</body>